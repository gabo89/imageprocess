


curl -sL https://rpm.nodesource.com/setup_13.x | bash -

yum install -y nodejs centos-release-scl epel-release

rpm --import http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro
rpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-5.el7.nux.noarch.rpm

yum install -y gstreamer-python gstreamer-python-devel gstreamer-devel gstreamer1-devel gstreamer1-plugins-base gstreamer1-plugins-base-devel gstreamer1-libav gstreamer1-vaapi-devel libavc1394 libavc1394-devel zlib zlib-devel pygtkglext pygtkglext-devel gtkglext-devel gtkglext-libs zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel expat-devel libv4l libv4l-devel gtk3 gtk3-devel jasper jasper-libs jasper-devel libpng12 libpng12-devel libpng* libtiff* ffmpeg ffmpeg-devel ffmpeg-compat ffmpeg-compat-devel gstreamer-ffmpeg libmpeg2 libmpeg2-devel libmpeg3 libmpeg3-develx264 x264-devel x264-libs xvidcore xvidcore-devel tbb tbb-devel  v4l-utils v4l-utils-devel-tools  python3-devel python2-devel python27-python-libs hdf5 hdf5-devel openblas openblas-devel atlas atlas-devel opencv opencv-core opencv-devel gflags gflags-devel python-pip python3-pip golang glog glog-devel lapack lapack-devel eigen3-devel tesseract tesseract-devel protobuf protobuf-devel cmake  cmake3 cmake-gui cmake3-gui ccache ceres-solver ceres-solver-devel devtoolset-8 zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel expat-devel libpng-devel libjpeg-turbo-devel jasper-devel openexr-devel libtiff-devel libwebp-devel libdc1394-devel libv4l-devel gstreamer-plugins-base-devel gtk2-devel tbb-devel eigen3-devel gstreamer1-libav gstreamer1-plugins-base-devel java-1.8.0-openjdk-devel.x86_64 python2-numpy.x86_64 ffmpeg-devel.x86_64 ffmpeg-libs.i686 ffmpeg.x86_64 libavdevice.i686 libpng-devel libjpeg-turbo-devel jasper-devel openexr-devel libtiff-devel libwebp-devel libdc1394-devel libv4l-devel gstreamer-plugins-base-devel gtk2-devel tbb-devel eigen3-devel gstreamer1-libav gstreamer1-plugins-base-devel gtk+extra-devel.x86_64 gtk+-devel.i686 cmake pkg-config libgtk libavcodec libavformat libswscale swig --nogpgcheck


ln -s /usr/include/libv4l1-videodev.h   /usr/include/linux/videodev.h
ln -s /usr/include/libpng15   /usr/include/libpng

pip install numpy imutils
pip3 install numpy imutils

scl enable devtoolset-8 bash


cd /opt/project/upch

npm install -save nan
npm install -save native-node-utils
npm install -save npmlog
npm install -save @types/node
npm install --save opencv-build
npm install --save opencv4nodejs



dockeragent89:pelado89fiera

sudo docker build . -t dockeragent89/node_opencv_gabriel

sudo docker push dockeragent89/node_opencv_gabriel



docker run -it docker.io/centos:centos7

docker run -it -v /opt/project/upch:/opt/project/upch -p 3000:3000 dockeragent89/node_opencv_gabriel



rpm -qa --queryformat '%10{size} - %-25{name} \t %{version}\n' | sort -n | grep sqll





for mpeg 4 videos
-------------------------------------------

yum install libdvdcss gstreamer{,1}-plugins-ugly gstreamer-plugins-bad-nonfree gstreamer1-plugins-bad-freeworld libde265 x265

yum install vlc smplayer

-------------------------------------------


sudo yum makecache fast


yum install simplescreenrecorder
yum install simplescreenrecorder-libs


npm config set python /usr/bin/python3.6
sudo npm config set python /usr/bin/python3.6

pythonx.m vs pythonx

pythonx.m was configured with specialized implementation for 
allocating memory that's faster than the system malloc




